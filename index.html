<!DOCTYPE html>
<html lang="zh-CN" data-theme="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="ä¸ªäººå±¥å†ä»‹ç»ç½‘ç«™" />
  <title>ä¸ªäººå±¥å† Â· Resume</title>
  <style>
    :root {
      --bg: #ffffff;
      --bg-elev: #f7f7f8;
      --text: #16181d;
      --muted: #64748b;
      --primary: #2563eb;
      --primary-weak: #dbeafe;
      --card: #ffffff;
      --border: #e5e7eb;
      --code-bg: #0f172a;
      --tag-bg: #eef2ff;
      --tag-text: #3730a3;
      --shadow: 0 1px 3px rgba(0,0,0,.08), 0 8px 20px rgba(0,0,0,.06);
      --radius: 14px;
      --radius-sm: 10px;
      --radius-xs: 8px;
      color-scheme: light;
    }
    @media (prefers-color-scheme: dark) {
      html[data-theme="auto"] {
        --bg: #0b0e14;
        --bg-elev: #0f131c;
        --text: #e5e7eb;
        --muted: #94a3b8;
        --primary: #60a5fa;
        --primary-weak: #1d2a42;
        --card: #0f131c;
        --border: #1f2937;
        --code-bg: #0b0f1a;
        --tag-bg: #172554;
        --tag-text: #c7d2fe;
        color-scheme: dark;
      }
    }
    html[data-theme="dark"] {
      --bg: #0b0e14;
      --bg-elev: #0f131c;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --primary: #60a5fa;
      --primary-weak: #1d2a42;
      --card: #0f131c;
      --border: #1f2937;
      --code-bg: #0b0f1a;
      --tag-bg: #172554;
      --tag-text: #c7d2fe;
      color-scheme: dark;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
      background: radial-gradient(1200px 600px at 80% -100px, var(--primary-weak), transparent 40%), var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    a { color: inherit; text-decoration: none; }
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px;
    }
    /* Header */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 16px 0;
      position: sticky;
      top: 0;
      background: color-mix(in oklab, var(--bg) 90%, transparent);
      backdrop-filter: saturate(140%) blur(10px);
      z-index: 10;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .brand .logo {
      width: 36px; height: 36px; border-radius: 10px; overflow: hidden;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      display: grid; place-items: center; background: var(--card);
    }
    .brand .title { font-weight: 800; letter-spacing: 0.2px; }
    nav a {
      color: var(--muted);
      margin: 0 10px;
      padding: 8px 10px;
      border-radius: var(--radius-xs);
      transition: all 0.2s ease;
    }
    nav a.active, nav a:hover { color: var(--text); background: var(--bg-elev); }
    .header-actions { display: flex; align-items: center; gap: 10px; }
    .btn {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 12px; border: 1px solid var(--border);
      border-radius: var(--radius-xs); background: var(--card);
      color: var(--text); box-shadow: var(--shadow);
      transition: transform .06s ease, background .2s ease;
      cursor: pointer;
      font-size: 14px;
    }
    .btn:active { transform: scale(0.98); }
    .btn.primary {
      background: var(--primary); color: #fff; border-color: color-mix(in oklab, var(--primary) 60%, #0000);
    }
    .btn:hover { background: var(--bg-elev); }
    .btn.primary:hover { background: color-mix(in oklab, var(--primary) 90%, #0000); }
    .btn.success {
      background: #10b981; color: #fff; border-color: #10b981;
    }
    .btn.success:hover { background: #059669; }
    .btn.danger {
      background: #ef4444; color: #fff; border-color: #ef4444;
    }
    .btn.danger:hover { background: #dc2626; }
    .btn.small {
      padding: 4px 8px;
      font-size: 12px;
    }
    
    /* Hero Section - ä¸ªäººä¿¡æ¯ */
    .hero {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 24px;
      margin-top: 20px;
      padding: 40px 24px;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, color-mix(in oklab, var(--primary-weak) 30%, var(--card)), var(--card));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .avatar {
      width: 120px; height: 120px; border-radius: 50%;
      background: var(--bg-elev) center/cover no-repeat;
      border: 3px solid var(--border);
      box-shadow: var(--shadow);
      flex-shrink: 0;
    }
    .hero h1 {
      font-size: 32px; margin: 0 0 8px 0;
      font-weight: 700;
    }
    .hero .subtitle {
      font-size: 20px;
      color: var(--muted);
      margin: 0 0 16px 0;
      font-weight: 500;
    }
    .hero p { 
      margin: 0; 
      color: var(--muted); 
      max-width: 600px;
      font-size: 16px;
    }
    .hero-actions { 
      display: flex; 
      gap: 12px; 
      flex-wrap: wrap; 
      justify-content: center;
      margin-top: 8px;
    }
    .social-links {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    /* Section Styles */
    .section {
      margin-top: 40px;
    }
    .section-title {
      font-size: 24px;
      font-weight: 700;
      margin: 0 0 24px 0;
      padding-bottom: 12px;
      border-bottom: 2px solid var(--border);
    }
    
    /* Card */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 24px;
      margin-bottom: 20px;
    }
    .card h3 {
      margin: 0 0 16px 0;
      font-size: 20px;
      font-weight: 600;
    }
    
    /* å·¥ä½œç»å† */
    .experience-item {
      padding: 20px 0;
      border-bottom: 1px solid var(--border);
    }
    .experience-item:last-child {
      border-bottom: none;
    }
    .experience-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
      gap: 16px;
      flex-wrap: wrap;
    }
    .experience-title {
      font-size: 18px;
      font-weight: 600;
      margin: 0 0 4px 0;
    }
    .experience-company {
      font-size: 16px;
      color: var(--primary);
      font-weight: 500;
    }
    .experience-date {
      color: var(--muted);
      font-size: 14px;
      white-space: nowrap;
    }
    .experience-desc {
      color: var(--text);
      margin: 12px 0 0 0;
      line-height: 1.7;
    }
    .experience-image {
      width: 100%;
      max-width: 400px;
      height: 200px;
      border-radius: var(--radius-sm);
      background: var(--bg-elev) center/cover no-repeat;
      border: 1px solid var(--border);
      margin-top: 12px;
    }
    
    /* æ•™è‚²èƒŒæ™¯ */
    .education-item {
      padding: 20px 0;
      border-bottom: 1px solid var(--border);
    }
    .education-item:last-child {
      border-bottom: none;
    }
    .education-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 8px;
      gap: 16px;
      flex-wrap: wrap;
    }
    .education-degree {
      font-size: 18px;
      font-weight: 600;
      margin: 0 0 4px 0;
    }
    .education-school {
      font-size: 16px;
      color: var(--primary);
    }
    .education-date {
      color: var(--muted);
      font-size: 14px;
      white-space: nowrap;
    }
    
    /* æŠ€èƒ½ */
    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 16px;
    }
    .skill-item {
      padding: 16px;
      background: var(--bg-elev);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border);
    }
    .skill-name {
      font-weight: 600;
      margin-bottom: 8px;
    }
    .skill-level {
      height: 6px;
      background: var(--border);
      border-radius: 3px;
      overflow: hidden;
      margin-top: 8px;
    }
    .skill-level-bar {
      height: 100%;
      background: var(--primary);
      border-radius: 3px;
      transition: width 0.3s ease;
    }
    .tag {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 6px 12px; font-size: 14px;
      background: var(--tag-bg); color: var(--tag-text);
      border-radius: 999px; border: 1px solid color-mix(in oklab, var(--tag-text) 15%, transparent);
    }
    
    /* é¡¹ç›®å±•ç¤º */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    .project-item {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      overflow: hidden;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .project-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 30px rgba(0,0,0,.1);
    }
    .project-image {
      width: 100%;
      height: 200px;
      background: var(--bg-elev) center/cover no-repeat;
      border-bottom: 1px solid var(--border);
    }
    .project-content {
      padding: 16px;
    }
    .project-title {
      font-size: 18px;
      font-weight: 600;
      margin: 0 0 8px 0;
    }
    .project-desc {
      color: var(--muted);
      font-size: 14px;
      margin: 0 0 12px 0;
      line-height: 1.6;
    }
    .project-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    
    /* ç•™è¨€æ¡† */
    .comments-section {
      margin-top: 40px;
    }
    .comment-form {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px;
      box-shadow: var(--shadow);
    }
    .form-group {
      margin-bottom: 16px;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text);
    }
    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: var(--radius-xs);
      background: var(--bg);
      color: var(--text);
      font-family: inherit;
      font-size: 14px;
      resize: vertical;
    }
    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 20%, transparent);
    }
    .form-group textarea {
      min-height: 120px;
    }
    .comments-list {
      margin-top: 32px;
    }
    .comment-item {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: var(--shadow);
    }
    .comment-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      flex-wrap: wrap;
      gap: 8px;
    }
    .comment-author {
      font-weight: 600;
      color: var(--text);
    }
    .comment-date {
      font-size: 12px;
      color: var(--muted);
    }
    .comment-content {
      color: var(--text);
      line-height: 1.7;
      white-space: pre-wrap;
    }
    .empty-comments {
      text-align: center;
      padding: 40px;
      color: var(--muted);
    }
    
    /* ç¼–è¾‘æ¨¡å¼æ ·å¼ */
    .edit-mode .editable-content {
      display: none;
    }
    .edit-mode .editable-form {
      display: block;
    }
    .editable-form {
      display: none;
    }
    .edit-section {
      position: relative;
    }
    .edit-btn {
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .edit-mode .edit-btn,
    .edit-section:hover .edit-btn {
      opacity: 1;
    }
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }
    .section-header .section-title {
      margin: 0;
    }
    .edit-form-group {
      margin-bottom: 16px;
    }
    .edit-form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      font-size: 14px;
      color: var(--text);
    }
    .edit-form-group input,
    .edit-form-group textarea {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid var(--border);
      border-radius: var(--radius-xs);
      background: var(--bg);
      color: var(--text);
      font-family: inherit;
      font-size: 14px;
      resize: vertical;
    }
    .edit-form-group textarea {
      min-height: 80px;
    }
    .edit-form-actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }
    .editable-item {
      position: relative;
      padding-right: 40px;
    }
    .item-actions {
      position: absolute;
      top: 0;
      right: 0;
      display: flex;
      gap: 4px;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .edit-mode .item-actions,
    .editable-item:hover .item-actions {
      opacity: 1;
    }
    .add-item-btn {
      margin-top: 16px;
    }
    .skills-edit-input {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }
    .skill-tag-input {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      background: var(--bg-elev);
      border: 1px solid var(--border);
      border-radius: var(--radius-xs);
    }
    .skill-tag-input input {
      border: none;
      background: transparent;
      padding: 2px 4px;
      font-size: 12px;
      width: 80px;
    }
    .skill-tag-input .remove-tag {
      cursor: pointer;
      color: var(--muted);
      font-size: 16px;
      line-height: 1;
    }
    .skill-tag-input .remove-tag:hover {
      color: var(--text);
    }
    .add-skill-btn {
      padding: 4px 12px;
      font-size: 12px;
    }
    
    /* ç›¸å†Œæ¨¡æ€æ¡† */
    .gallery-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
      overflow: hidden;
    }
    .gallery-modal.active {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .gallery-header {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 1001;
    }
    .gallery-close {
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.5);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    .gallery-close:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }
    .gallery-title {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      font-size: 24px;
      font-weight: 600;
      z-index: 1001;
      text-align: center;
      backdrop-filter: blur(10px);
      padding: 10px 20px;
      border-radius: var(--radius);
      background: rgba(0, 0, 0, 0.3);
    }
    .gallery-container {
      width: 90%;
      max-width: 1200px;
      height: 80vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    .gallery-main-image {
      max-width: 100%;
      max-height: 80vh;
      object-fit: contain;
      border-radius: var(--radius);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    }
    .gallery-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.5);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      z-index: 1001;
    }
    .gallery-nav:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-50%) scale(1.1);
    }
    .gallery-nav.prev {
      left: 20px;
    }
    .gallery-nav.next {
      right: 20px;
    }
    .gallery-nav:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }
    .gallery-nav:disabled:hover {
      transform: translateY(-50%);
    }
    .gallery-thumbnails {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      max-width: 90%;
      overflow-x: auto;
      padding: 10px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: var(--radius);
      backdrop-filter: blur(10px);
    }
    .gallery-thumbnail {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: var(--radius-xs);
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.3s ease;
      opacity: 0.7;
    }
    .gallery-thumbnail:hover {
      opacity: 1;
      transform: scale(1.1);
    }
    .gallery-thumbnail.active {
      border-color: white;
      opacity: 1;
    }
    .gallery-counter {
      position: absolute;
      bottom: 120px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      font-size: 16px;
      background: rgba(0, 0, 0, 0.5);
      padding: 8px 16px;
      border-radius: var(--radius);
      backdrop-filter: blur(10px);
    }
    
    @media (max-width: 768px) {
      .gallery-title {
        font-size: 18px;
        top: 10px;
      }
      .gallery-close {
        top: 10px;
        right: 10px;
        width: 35px;
        height: 35px;
        font-size: 20px;
      }
      .gallery-nav {
        width: 40px;
        height: 40px;
        font-size: 20px;
      }
      .gallery-nav.prev {
        left: 10px;
      }
      .gallery-nav.next {
        right: 10px;
      }
      .gallery-thumbnails {
        bottom: 10px;
      }
      .gallery-thumbnail {
        width: 60px;
        height: 60px;
      }
      .gallery-counter {
        bottom: 90px;
        font-size: 14px;
      }
    }
    
    /* Footer */
    footer {
      margin: 60px 0 20px 0;
      color: var(--muted);
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      gap: 12px;
      border-top: 1px dashed var(--border);
      padding-top: 24px;
      flex-wrap: wrap;
    }
    
    /* Utilities */
    .row { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
    .grow { flex: 1; }
    .sep { height: 1px; background: var(--border); margin: 12px 0; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
    .text-center { text-align: center; }
    .mt-20 { margin-top: 20px; }
    
    @media (max-width: 768px) {
      .header {
        flex-direction: column;
        align-items: flex-start;
      }
      nav {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
      }
      .hero h1 {
        font-size: 24px;
      }
      .hero .subtitle {
        font-size: 18px;
      }
      .experience-header,
      .education-header {
        flex-direction: column;
        align-items: flex-start;
      }
      .skills-grid,
      .projects-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M3 12c2.5-4.5 6.5-7 9-7s6.5 2.5 9 7c-2.5 4.5-6.5 7-9 7s-6.5-2.5-9-7z" stroke="currentColor" stroke-width="1.6"/>
            <circle cx="12" cy="12" r="2.2" fill="currentColor"/>
          </svg>
        </div>
        <div>
          <div class="title">ä¸ªäººå±¥å†</div>
          <div class="muted" style="font-size:12px">Resume Â· Portfolio</div>
        </div>
      </div>
      <nav>
        <a href="#about" class="active">å…³äºæˆ‘</a>
        <a href="#experience">å·¥ä½œç»å†</a>
        <a href="#education">æ•™è‚²èƒŒæ™¯</a>
        <a href="#skills">æŠ€èƒ½</a>
        <a href="#projects">é¡¹ç›®</a>
        <a href="#comments">ç•™è¨€</a>
      </nav>
      <div class="header-actions">
        <button id="editToggle" class="btn" aria-label="ç¼–è¾‘æ¨¡å¼">
          <span id="editIcon">âœï¸</span><span id="editText">ç¼–è¾‘</span>
        </button>
        <button id="themeToggle" class="btn" aria-label="åˆ‡æ¢ä¸»é¢˜">
          <span id="themeIcon">ğŸŒ—</span><span class="sr-only">åˆ‡æ¢ä¸»é¢˜</span>
        </button>
      </div>
    </header>

    <!-- ä¸ªäººä¿¡æ¯éƒ¨åˆ† -->
    <section class="hero edit-section" id="about">
      <button class="edit-btn btn small" onclick="toggleEditSection('about')" style="position: absolute; top: 20px; right: 20px;">âœï¸</button>
      <div class="editable-content">
        <div class="avatar" id="avatar" style="background-image: url('')"></div>
        <div>
          <h1 id="name">ä½ çš„å§“å</h1>
          <p class="subtitle" id="title">èŒä½/èŒä¸š</p>
          <p id="bio">è¿™é‡Œå¡«å†™ä½ çš„ä¸ªäººç®€ä»‹ï¼Œä»‹ç»ä½ çš„ä¸“ä¸šèƒŒæ™¯ã€å…´è¶£çˆ±å¥½ã€èŒä¸šç›®æ ‡ç­‰ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæè¿°ä½ çš„æ ¸å¿ƒæŠ€èƒ½ã€å·¥ä½œç†å¿µæˆ–è€…ä»»ä½•ä½ æƒ³åˆ†äº«çš„å†…å®¹ã€‚</p>
        </div>
        <div class="social-links">
          <a class="btn" href="#" id="github-link" aria-label="GitHub">GitHub</a>
          <a class="btn" href="#" id="linkedin-link" aria-label="LinkedIn">LinkedIn</a>
          <a class="btn" href="#" id="email-link" aria-label="Email">Email</a>
      </div>
        </div>
      <div class="editable-form">
        <div class="edit-form-group">
          <label>å§“å</label>
          <input type="text" id="edit-name" placeholder="ä½ çš„å§“å">
        </div>
        <div class="edit-form-group">
          <label>èŒä½/èŒä¸š</label>
          <input type="text" id="edit-title" placeholder="èŒä½/èŒä¸š">
        </div>
        <div class="edit-form-group">
          <label>ä¸ªäººç®€ä»‹</label>
          <textarea id="edit-bio" placeholder="ä¸ªäººç®€ä»‹"></textarea>
        </div>
        <div class="edit-form-group">
          <label>å¤´åƒå›¾ç‰‡URL</label>
          <input type="text" id="edit-avatar" placeholder="å¤´åƒå›¾ç‰‡URL">
        </div>
        <div class="edit-form-group">
          <label>GitHubé“¾æ¥</label>
          <input type="text" id="edit-github" placeholder="GitHubé“¾æ¥">
        </div>
        <div class="edit-form-group">
          <label>LinkedIné“¾æ¥</label>
          <input type="text" id="edit-linkedin" placeholder="LinkedIné“¾æ¥">
        </div>
        <div class="edit-form-group">
          <label>é‚®ç®±</label>
          <input type="email" id="edit-email" placeholder="é‚®ç®±åœ°å€">
        </div>
        <div class="edit-form-actions">
          <button class="btn primary" onclick="saveAbout()">ä¿å­˜</button>
          <button class="btn" onclick="cancelEditSection('about')">å–æ¶ˆ</button>
        </div>
      </div>
    </section>

    <!-- å·¥ä½œç»å† -->
    <section class="section edit-section" id="experience">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
        <h2 class="section-title" style="margin: 0;">å·¥ä½œç»å†</h2>
        <button class="edit-btn btn small" onclick="toggleEditSection('experience')">âœï¸</button>
              </div>
      <div class="card">
        <div class="editable-content" id="experienceContent">
          <!-- å·¥ä½œç»å†é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
              </div>
        <div class="editable-form" id="experienceForm">
          <div id="experienceItemsEdit">
            <!-- ç¼–è¾‘é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
          <button class="btn primary add-item-btn" onclick="addExperienceItem()">+ æ·»åŠ å·¥ä½œç»å†</button>
          <div class="edit-form-actions" style="margin-top: 20px;">
            <button class="btn primary" onclick="saveExperience()">ä¿å­˜</button>
            <button class="btn" onclick="cancelEditSection('experience')">å–æ¶ˆ</button>
              </div>
              </div>
            </div>
    </section>

    <!-- æ•™è‚²èƒŒæ™¯ -->
    <section class="section edit-section" id="education">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
        <h2 class="section-title" style="margin: 0;">æ•™è‚²èƒŒæ™¯</h2>
        <button class="edit-btn btn small" onclick="toggleEditSection('education')">âœï¸</button>
              </div>
      <div class="card">
        <div class="editable-content" id="educationContent">
          <!-- æ•™è‚²èƒŒæ™¯é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
              </div>
        <div class="editable-form" id="educationForm">
          <div id="educationItemsEdit">
            <!-- ç¼–è¾‘é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
          <button class="btn primary add-item-btn" onclick="addEducationItem()">+ æ·»åŠ æ•™è‚²èƒŒæ™¯</button>
          <div class="edit-form-actions" style="margin-top: 20px;">
            <button class="btn primary" onclick="saveEducation()">ä¿å­˜</button>
            <button class="btn" onclick="cancelEditSection('education')">å–æ¶ˆ</button>
              </div>
              </div>
            </div>
    </section>

    <!-- æŠ€èƒ½ -->
    <section class="section edit-section" id="skills">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
        <h2 class="section-title" style="margin: 0;">æŠ€èƒ½ä¸“é•¿</h2>
        <button class="edit-btn btn small" onclick="toggleEditSection('skills')">âœï¸</button>
        </div>
        <div class="card">
        <div class="editable-content" id="skillsContent">
          <!-- æŠ€èƒ½é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        <div class="editable-form" id="skillsForm">
          <div id="skillsItemsEdit">
            <!-- ç¼–è¾‘é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
          <button class="btn primary add-item-btn" onclick="addSkillItem()">+ æ·»åŠ æŠ€èƒ½åˆ†ç±»</button>
          <div class="edit-form-actions" style="margin-top: 20px;">
            <button class="btn primary" onclick="saveSkills()">ä¿å­˜</button>
            <button class="btn" onclick="cancelEditSection('skills')">å–æ¶ˆ</button>
        </div>
          </div>
        </div>
    </section>

    <!-- é¡¹ç›®å±•ç¤º -->
    <section class="section" id="projects">
      <h2 class="section-title">é¡¹ç›®ç»å†</h2>
      <div class="projects-grid">
        <div class="project-item">
          <div class="project-image" id="project-image-1" style="background-image: url('')"></div>
          <div class="project-content">
            <h3 class="project-title">é¡¹ç›®åç§° 1</h3>
            <p class="project-desc">é¡¹ç›®æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæè¿°é¡¹ç›®çš„åŠŸèƒ½ã€æŠ€æœ¯æ ˆã€ä½ çš„è§’è‰²å’Œè´¡çŒ®ç­‰ã€‚</p>
            <div class="project-tags">
              <span class="tag">React</span>
              <span class="tag">Node.js</span>
              <span class="tag">MongoDB</span>
          </div>
        </div>
          </div>
        <div class="project-item">
          <div class="project-image" id="project-image-2" style="background-image: url('')"></div>
          <div class="project-content">
            <h3 class="project-title">é¡¹ç›®åç§° 2</h3>
            <p class="project-desc">é¡¹ç›®æè¿°ï¼šè¿™æ˜¯å¦ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ã€‚</p>
            <div class="project-tags">
              <span class="tag">Vue.js</span>
              <span class="tag">Python</span>
        </div>
    </div>
        </div>
        <div class="project-item">
          <div class="project-image" id="project-image-3" style="background-image: url('')"></div>
          <div class="project-content">
            <h3 class="project-title">é¡¹ç›®åç§° 3</h3>
            <p class="project-desc">é¡¹ç›®æè¿°ï¼šç¬¬ä¸‰ä¸ªç¤ºä¾‹é¡¹ç›®ã€‚</p>
            <div class="project-tags">
              <span class="tag">TypeScript</span>
              <span class="tag">React</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ç•™è¨€æ¡† -->
    <section class="section comments-section" id="comments">
      <h2 class="section-title">ç•™è¨€æ¿</h2>
      <div class="comment-form">
        <h3>ç•™ä¸‹ä½ çš„ç•™è¨€</h3>
        <form id="commentForm">
          <div class="form-group">
            <label for="commentName">å§“å *</label>
            <input type="text" id="commentName" name="name" required placeholder="è¯·è¾“å…¥ä½ çš„å§“å">
          </div>
          <div class="form-group">
            <label for="commentEmail">é‚®ç®±</label>
            <input type="email" id="commentEmail" name="email" placeholder="è¯·è¾“å…¥ä½ çš„é‚®ç®±ï¼ˆå¯é€‰ï¼‰">
          </div>
          <div class="form-group">
            <label for="commentContent">ç•™è¨€å†…å®¹ *</label>
            <textarea id="commentContent" name="content" required placeholder="è¯·è¾“å…¥ä½ çš„ç•™è¨€å†…å®¹..."></textarea>
          </div>
          <button type="submit" class="btn primary">æäº¤ç•™è¨€</button>
        </form>
      </div>
      <div class="comments-list">
        <h3 style="margin-bottom: 20px;">ç•™è¨€åˆ—è¡¨</h3>
        <div id="commentsContainer">
          <div class="empty-comments">æš‚æ— ç•™è¨€ï¼Œå¿«æ¥ç•™ä¸‹ç¬¬ä¸€æ¡å§ï¼</div>
        </div>
      </div>
    </section>

    <footer>
      <div>Â© <span id="year"></span> ä¸ªäººå±¥å† Â· ç”±é™æ€é¡µé¢é©±åŠ¨</div>
      <div class="row">
        <a class="muted" href="#about">å…³äºæˆ‘</a>
        <span class="muted">Â·</span>
        <a class="muted" href="#comments">ç•™è¨€</a>
      </div>
    </footer>
  </div>

  <!-- ç›¸å†Œæ¨¡æ€æ¡† -->
  <div class="gallery-modal" id="galleryModal">
    <div class="gallery-header">
      <button class="gallery-close" id="galleryClose" aria-label="å…³é—­ç›¸å†Œ">Ã—</button>
    </div>
    <div class="gallery-title" id="galleryTitle">ç›¸å†Œ</div>
    <div class="gallery-container">
      <button class="gallery-nav prev" id="galleryPrev" aria-label="ä¸Šä¸€å¼ ">â€¹</button>
      <img class="gallery-main-image" id="galleryMainImage" src="" alt="ç›¸å†Œå›¾ç‰‡">
      <button class="gallery-nav next" id="galleryNext" aria-label="ä¸‹ä¸€å¼ ">â€º</button>
      <div class="gallery-counter" id="galleryCounter"></div>
      <div class="gallery-thumbnails" id="galleryThumbnails"></div>
    </div>
  </div>

  <script>
    // é…ç½®æ•°æ® - ä½ å¯ä»¥åœ¨è¿™é‡Œä¿®æ”¹ä¸ªäººä¿¡æ¯å’Œå›¾ç‰‡URL
    const config = {
      // ä¸ªäººä¿¡æ¯
      name: 'å¼ æ¶¦é”‹',
      title: 'è®²å¸ˆ',
      bio: 'å¼ æ¶¦é”‹ï¼Œè®²å¸ˆï¼Œåšå£«æ¯•ä¸šäºå¤©æ´¥å¤§å­¦æœºæ¢°å·¥ç¨‹ä¸“ä¸šï¼ŒåŸºç¡€æ•™ç ”å®¤æ•™å¸ˆã€‚ä¸»è¦ç ”ç©¶æ–¹å‘æ˜¯æ°´ä¸‹æœºå™¨äººä¸ä»¿ç”Ÿç³»ç»Ÿï¼Œç›®å‰è®²æˆã€Šå·¥ç¨‹å›¾å­¦Aã€‹ã€ã€Šå·¥ç¨‹å›¾å­¦Bã€‹ç­‰è¯¾ç¨‹ã€‚',
      avatar: 'https://raw.githubusercontent.com/jkhkjlkll/myobs/master/20251111202007625.png', // å¤´åƒå›¾ç‰‡URLï¼Œä¾‹å¦‚: 'https://example.com/avatar.jpg'
      
      // ç¤¾äº¤åª’ä½“é“¾æ¥
      social: {
        github: '#',
        linkedin: '#',
        email: 'mailto:your.email@example.com'
      },
      
      // å·¥ä½œç»å†å›¾ç‰‡
      experienceImages: [
        '', // ç¬¬ä¸€ä»½å·¥ä½œçš„å›¾ç‰‡URL
        ''  // ç¬¬äºŒä»½å·¥ä½œçš„å›¾ç‰‡URL
      ],
      
      // é¡¹ç›®å›¾ç‰‡
      projectImages: [
        '', // é¡¹ç›®1å›¾ç‰‡URL
        '', // é¡¹ç›®2å›¾ç‰‡URL
        ''  // é¡¹ç›®3å›¾ç‰‡URL
      ],
      
      // ç‰¹æ®Šç›¸å†Œå›¾ç‰‡ï¼ˆè§¦å‘å…³é”®è¯åæ˜¾ç¤ºçš„å›¾ç‰‡ï¼‰
      galleryImages: [
        'https://raw.githubusercontent.com/jkhkjlkll/myobs/master/20251111202007625.png',
        'https://raw.githubusercontent.com/jkhkjlkll/myobs/master/20251111202007625.png',
        'https://raw.githubusercontent.com/jkhkjlkll/myobs/master/20251111202007625.png',
        // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šå›¾ç‰‡URL
      ],
      
      // å·¥ä½œç»å†æ•°æ®
      experience: [
        {
          title: 'é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆ',
          company: 'å…¬å¸åç§°',
          date: '2022.01 - è‡³ä»Š',
          description: 'åœ¨è¿™é‡Œæè¿°ä½ çš„å·¥ä½œèŒè´£å’Œä¸»è¦æˆå°±ã€‚å¯ä»¥åŒ…æ‹¬é¡¹ç›®ç»éªŒã€æŠ€æœ¯æ ˆã€å›¢é˜Ÿåä½œç­‰å†…å®¹ã€‚\nâ€¢ è´Ÿè´£æ ¸å¿ƒä¸šåŠ¡ç³»ç»Ÿçš„å¼€å‘ä¸ç»´æŠ¤\nâ€¢ å‚ä¸æŠ€æœ¯æ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹\nâ€¢ å¸¦é¢†å›¢é˜Ÿå®Œæˆé‡è¦é¡¹ç›®çš„äº¤ä»˜',
          image: ''
        },
        {
          title: 'è½¯ä»¶å·¥ç¨‹å¸ˆ',
          company: 'å…¬å¸åç§°',
          date: '2020.06 - 2021.12',
          description: 'åœ¨è¿™é‡Œæè¿°ä½ çš„å·¥ä½œèŒè´£å’Œä¸»è¦æˆå°±ã€‚',
          image: ''
        }
      ],
      
      // æ•™è‚²èƒŒæ™¯æ•°æ®
      education: [
        {
          degree: 'è®¡ç®—æœºç§‘å­¦ - å­¦å£«/ç¡•å£«/åšå£«',
          school: 'å¤§å­¦åç§°',
          date: '2016.09 - 2020.06'
        },
        {
          degree: 'ç›¸å…³ä¸“ä¸š',
          school: 'å­¦æ ¡åç§°',
          date: '2013.09 - 2016.06'
        }
      ],
      
      // æŠ€èƒ½æ•°æ®
      skills: [
        {
          name: 'ç¼–ç¨‹è¯­è¨€',
          tags: ['JavaScript', 'Python', 'Java', 'TypeScript']
        },
        {
          name: 'å‰ç«¯æŠ€æœ¯',
          tags: ['React', 'Vue.js', 'HTML/CSS']
        },
        {
          name: 'åç«¯æŠ€æœ¯',
          tags: ['Node.js', 'Express', 'æ•°æ®åº“']
        },
        {
          name: 'å·¥å…· & å…¶ä»–',
          tags: ['Git', 'Docker', 'Linux']
        }
      ]
      ,
      // Utterances / GitHub Issues é…ç½®
      // å¦‚æœä½ æƒ³æŠŠç•™è¨€è½¬åˆ° GitHub Issuesï¼Œè¯·å¡«å†™ "ç”¨æˆ·å/ä»“åº“å"ï¼Œä¾‹å¦‚: 'jkhkjlkll/jkhkjlkll.github.io'
      // å½“éƒ¨ç½²åˆ° GitHub Pages æ—¶ï¼Œç«™ç‚¹ä¼šè‡ªåŠ¨æ³¨å…¥ Utterances è¯„è®ºæ¡†å¹¶æŠŠç•™è¨€ä¿å­˜åˆ°æŒ‡å®šä»“åº“çš„ Issuesã€‚
      // å¦‚æœä½ å¸Œæœ›æŠŠâ€œç¼–è¾‘å†…å®¹â€ä¹Ÿæäº¤ä¸º Issueï¼ˆä¾¿äºåˆå¹¶/å®¡é˜…ï¼‰ï¼Œè¯·æŠŠ issueRepo è®¾ç½®ä¸ºåŒä¸€ä»“åº“æˆ–å…¶ä»–ä»“åº“ã€‚
      utterancesRepo: 'jkhkjlkll/jkhkjlkll.github.io',
      issueRepo: 'jkhkjlkll/jkhkjlkll.github.io'
    };

    // æ•°æ®å­˜å‚¨é”®å
    const STORAGE_KEYS = {
      about: 'resume_about',
      experience: 'resume_experience',
      education: 'resume_education',
      skills: 'resume_skills'
    };

    // ä»localStorageåŠ è½½æ•°æ®
    function loadData(key, defaultValue) {
      const saved = localStorage.getItem(key);
      if (saved) {
        try {
          return JSON.parse(saved);
        } catch (e) {
          return defaultValue;
        }
      }
      return defaultValue;
    }

    // ä¿å­˜æ•°æ®åˆ°localStorage
    function saveData(key, data) {
      localStorage.setItem(key, JSON.stringify(data));
    }

    // åˆå§‹åŒ–é…ç½®
    function initConfig() {
      // åŠ è½½ä¿å­˜çš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨configä¸­çš„é»˜è®¤å€¼
      const aboutData = loadData(STORAGE_KEYS.about, {
        name: config.name,
        title: config.title,
        bio: config.bio,
        avatar: config.avatar,
        social: config.social
      });

      const experienceData = loadData(STORAGE_KEYS.experience, config.experience);
      const educationData = loadData(STORAGE_KEYS.education, config.education);
      const skillsData = loadData(STORAGE_KEYS.skills, config.skills);

      // æ›´æ–°ä¸ªäººä¿¡æ¯
      if (aboutData.name) document.getElementById('name').textContent = aboutData.name;
      if (aboutData.title) document.getElementById('title').textContent = aboutData.title;
      if (aboutData.bio) document.getElementById('bio').textContent = aboutData.bio;
      if (aboutData.avatar) {
        document.getElementById('avatar').style.backgroundImage = `url('${aboutData.avatar}')`;
      }
      
      // æ›´æ–°ç¤¾äº¤åª’ä½“é“¾æ¥
      if (aboutData.social) {
        if (aboutData.social.github) document.getElementById('github-link').href = aboutData.social.github;
        if (aboutData.social.linkedin) document.getElementById('linkedin-link').href = aboutData.social.linkedin;
        if (aboutData.social.email) document.getElementById('email-link').href = aboutData.social.email;
      }
      
      // æ¸²æŸ“å·¥ä½œç»å†
      renderExperience(experienceData);
      
      // æ¸²æŸ“æ•™è‚²èƒŒæ™¯
      renderEducation(educationData);
      
      // æ¸²æŸ“æŠ€èƒ½
      renderSkills(skillsData);
    }

    // åˆ›å»ºä¸€ä¸ªæ–°çš„ GitHub Issue é¡µé¢ï¼ˆé¢„å¡«å……æ ‡é¢˜å’Œå†…å®¹ï¼‰
    function openCreateIssue(repo, title, body) {
      if (!repo) return;
      const url = `https://github.com/${repo}/issues/new?title=${encodeURIComponent(title)}&body=${encodeURIComponent(body)}`;
      window.open(url, '_blank');
    }

    // æ¸²æŸ“å·¥ä½œç»å†
    function renderExperience(experienceData) {
      const container = document.getElementById('experienceContent');
      if (!container) return;
      
      container.innerHTML = experienceData.map((exp, index) => `
        <div class="experience-item">
          <div class="experience-header">
            <div>
              <h3 class="experience-title">${escapeHtml(exp.title)}</h3>
              <div class="experience-company">${escapeHtml(exp.company)}</div>
            </div>
            <div class="experience-date">${escapeHtml(exp.date)}</div>
          </div>
          <div class="experience-desc">
            ${exp.description.split('\n').map(line => {
              if (line.trim().startsWith('â€¢')) {
                return `<p style="margin: 4px 0;">${escapeHtml(line)}</p>`;
              }
              return `<p>${escapeHtml(line)}</p>`;
            }).join('')}
          </div>
          ${exp.image ? `<div class="experience-image" style="background-image: url('${escapeHtml(exp.image)}')"></div>` : ''}
        </div>
      `).join('');
    }

    // æ¸²æŸ“æ•™è‚²èƒŒæ™¯
    function renderEducation(educationData) {
      const container = document.getElementById('educationContent');
      if (!container) return;
      
      container.innerHTML = educationData.map(edu => `
        <div class="education-item">
          <div class="education-header">
            <div>
              <h3 class="education-degree">${escapeHtml(edu.degree)}</h3>
              <div class="education-school">${escapeHtml(edu.school)}</div>
            </div>
            <div class="education-date">${escapeHtml(edu.date)}</div>
          </div>
        </div>
      `).join('');
    }

    // æ¸²æŸ“æŠ€èƒ½
    function renderSkills(skillsData) {
      const container = document.getElementById('skillsContent');
      if (!container) return;
      
      container.innerHTML = `
        <div class="skills-grid">
          ${skillsData.map(skill => `
            <div class="skill-item">
              <div class="skill-name">${escapeHtml(skill.name)}</div>
              ${skill.tags.map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join('')}
            </div>
          `).join('')}
        </div>
      `;
    }

    // HTMLè½¬ä¹‰
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // å¹´ä»½
    document.getElementById('year').textContent = new Date().getFullYear();

    // ä¸»é¢˜åˆ‡æ¢
    (function setupTheme() {
      const root = document.documentElement;
      const key = 'resume_theme';
      const saved = localStorage.getItem(key);
      if (saved === 'light' || saved === 'dark') {
        root.setAttribute('data-theme', saved);
      } else {
        root.setAttribute('data-theme', 'auto');
      }
      const btn = document.getElementById('themeToggle');
      const icon = document.getElementById('themeIcon');
      function updateIcon() {
        const mode = root.getAttribute('data-theme');
        icon.textContent = mode === 'dark' ? 'ğŸŒ™' : (mode === 'light' ? 'â˜€ï¸' : 'ğŸŒ—');
      }
      btn.addEventListener('click', () => {
        const mode = root.getAttribute('data-theme');
        const next = mode === 'dark' ? 'light' : (mode === 'light' ? 'auto' : 'dark');
        root.setAttribute('data-theme', next);
        localStorage.setItem(key, next);
        updateIcon();
      });
      updateIcon();
    })();

    // å¹³æ»‘æ»šåŠ¨
    document.querySelectorAll('nav a, footer a').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        const href = this.getAttribute('href');
        if (href.startsWith('#')) {
          e.preventDefault();
          const target = document.querySelector(href);
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            // æ›´æ–°å¯¼èˆªæ¿€æ´»çŠ¶æ€
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
            this.classList.add('active');
          }
        }
      });
    });

    // ç•™è¨€åŠŸèƒ½
    (function setupComments() {
      const STORAGE_KEY = 'resume_comments';
      const form = document.getElementById('commentForm');
      const container = document.getElementById('commentsContainer');

      // æ˜¯å¦å¯ç”¨ Utterancesï¼ˆåœ¨é…ç½®äº† utterancesRepo ä¸”ä¸ºçº¿ä¸Šè®¿é—®æ—¶å¯ç”¨ï¼‰
      const isHttp = location.protocol === 'http:' || location.protocol === 'https:';
      const isLocalHost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
      const useUtterances = config.utterancesRepo && isHttp && !isLocalHost;

      if (useUtterances) {
        // éšè—æœ¬åœ°è¡¨å•ï¼Œä½¿ç”¨ Utterances æ³¨å…¥è¯„è®ºç»„ä»¶
        if (form) form.style.display = 'none';
        container.innerHTML = '<div id="utterances-root"></div>';

        const script = document.createElement('script');
        script.src = 'https://utteranc.es/client.js';
        script.setAttribute('repo', config.utterancesRepo);
        // ä½¿ç”¨ pathname æˆ– url/title æ˜ å°„è¯„è®ºåˆ° Issueï¼Œä½ å¯ä»¥æ”¹æˆ 'url' æˆ– 'title'
        script.setAttribute('issue-term', 'pathname');
        script.setAttribute('label', 'comment');
        script.setAttribute('theme', 'github-light');
        script.crossOrigin = 'anonymous';
        script.async = true;

        document.getElementById('utterances-root').appendChild(script);

        // å½“ä½¿ç”¨ Utterances æ—¶ï¼Œä¸åœ¨æ­¤å¤„ç®¡ç†è¯„è®ºæ•°æ®ï¼ˆäº¤ç»™ GitHub Issuesï¼‰
        return;
      }

      // ä»æœ¬åœ°å­˜å‚¨åŠ è½½ç•™è¨€ï¼ˆå›é€€æ–¹æ¡ˆï¼‰
      function loadComments() {
        const comments = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
        displayComments(comments);
        return comments;
      }

      // ä¿å­˜ç•™è¨€åˆ°æœ¬åœ°å­˜å‚¨
      function saveComments(comments) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(comments));
      }

      // æ˜¾ç¤ºç•™è¨€ï¼ˆåŒ…å«åˆ é™¤æŒ‰é’®ï¼‰
      function displayComments(comments) {
        if (comments.length === 0) {
          container.innerHTML = '<div class="empty-comments">æš‚æ— ç•™è¨€ï¼Œå¿«æ¥ç•™ä¸‹ç¬¬ä¸€æ¡å§ï¼</div>';
          return;
        }

        container.innerHTML = comments.map(comment => `
          <div class="comment-item" data-id="${comment.id}">
            <div class="comment-header">
              <div>
                <div class="comment-author">${escapeHtml(comment.name)}</div>
                <div class="comment-date">${formatDate(comment.date)}</div>
              </div>
              <div>
                <button class="btn small danger" onclick="deleteComment(${comment.id})" aria-label="åˆ é™¤ç•™è¨€">åˆ é™¤</button>
              </div>
            </div>
            <div class="comment-content">${escapeHtml(comment.content)}</div>
          </div>
        `).join('');
      }

      // HTMLè½¬ä¹‰
      function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }

      // æ ¼å¼åŒ–æ—¥æœŸ
      function formatDate(dateString) {
        const date = new Date(dateString);
        const now = new Date();
        const diff = now - date;
        const minutes = Math.floor(diff / 60000);
        const hours = Math.floor(diff / 3600000);
        const days = Math.floor(diff / 86400000);

        if (minutes < 1) return 'åˆšåˆš';
        if (minutes < 60) return `${minutes}åˆ†é’Ÿå‰`;
        if (hours < 24) return `${hours}å°æ—¶å‰`;
        if (days < 7) return `${days}å¤©å‰`;

        return date.toLocaleDateString('zh-CN', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        });
      }

      // è¡¨å•æäº¤ï¼ˆæœ¬åœ°å›é€€ï¼‰
      form.addEventListener('submit', (e) => {
        e.preventDefault();

        const name = document.getElementById('commentName').value.trim();
        const email = document.getElementById('commentEmail').value.trim();
        const content = document.getElementById('commentContent').value.trim();

        if (!name || !content) {
          alert('è¯·å¡«å†™å§“åå’Œç•™è¨€å†…å®¹');
          return;
        }

        // æ£€æŸ¥æ˜¯å¦åŒ…å«è§¦å‘å…³é”®è¯
        const triggerKeyword = 'å‚»é€¼è´±ç‹—å¼ æ¶¦é”‹';
        if (content.includes(triggerKeyword) || name.includes(triggerKeyword)) {
          // æ˜¾ç¤ºç›¸å†Œ
          openGallery();
        }

        const comments = loadComments();
        const newComment = {
          id: Date.now(),
          name: name,
          email: email,
          content: content,
          date: new Date().toISOString()
        };

        comments.unshift(newComment); // æ–°ç•™è¨€æ”¾åœ¨æœ€å‰é¢
        saveComments(comments);
        displayComments(comments);

        // æ¸…ç©ºè¡¨å•
        form.reset();

        // æ˜¾ç¤ºæˆåŠŸæç¤º
        const btn = form.querySelector('button[type="submit"]');
        const originalText = btn.textContent;
        btn.textContent = 'ç•™è¨€æˆåŠŸï¼';
        btn.disabled = true;
        setTimeout(() => {
          btn.textContent = originalText;
          btn.disabled = false;
        }, 2000);

        // æ»šåŠ¨åˆ°ç•™è¨€åˆ—è¡¨
        container.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      });

      // åˆå§‹åŒ–åŠ è½½ç•™è¨€
      loadComments();

      // åˆ é™¤ç•™è¨€ï¼ˆæš´éœ²ä¸ºå…¨å±€å‡½æ•°ï¼Œä¾›æ¨¡æ¿ä¸­çš„æŒ‰é’®è°ƒç”¨ï¼‰
      window.deleteComment = function(id) {
        if (!id) return;
        if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡ç•™è¨€å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚')) return;

        try {
          const comments = loadComments();
          const idx = comments.findIndex(c => c.id === id);
          if (idx === -1) {
            alert('æœªæ‰¾åˆ°å¯¹åº”çš„ç•™è¨€ï¼Œå¯èƒ½å·²è¢«åˆ é™¤ã€‚');
            return;
          }
          comments.splice(idx, 1);
          saveComments(comments);
          displayComments(comments);
          alert('åˆ é™¤æˆåŠŸ');
        } catch (e) {
          console.error('åˆ é™¤ç•™è¨€å‡ºé”™', e);
          alert('åˆ é™¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°è·å–æ›´å¤šä¿¡æ¯');
        }
      };
    })();

    // ç¼–è¾‘åŠŸèƒ½
    (function setupEdit() {
      let currentEditSection = null;

      // åˆ‡æ¢ç¼–è¾‘æ¨¡å¼
      window.toggleEditSection = function(sectionId) {
        const section = document.getElementById(sectionId);
        if (!section) return;

        if (currentEditSection === sectionId) {
          // å–æ¶ˆç¼–è¾‘
          section.classList.remove('edit-mode');
          currentEditSection = null;
          loadEditData(sectionId);
        } else {
          // å…³é—­å…¶ä»–ç¼–è¾‘
          if (currentEditSection) {
            document.getElementById(currentEditSection).classList.remove('edit-mode');
          }
          // æ‰“å¼€å½“å‰ç¼–è¾‘
          section.classList.add('edit-mode');
          currentEditSection = sectionId;
          loadEditData(sectionId);
        }
      };

      // å–æ¶ˆç¼–è¾‘
      window.cancelEditSection = function(sectionId) {
        const section = document.getElementById(sectionId);
        if (section) {
          section.classList.remove('edit-mode');
          if (currentEditSection === sectionId) {
            currentEditSection = null;
          }
          loadEditData(sectionId);
        }
      };

      // åŠ è½½ç¼–è¾‘æ•°æ®åˆ°è¡¨å•
      function loadEditData(sectionId) {
        if (sectionId === 'about') {
          const aboutData = loadData(STORAGE_KEYS.about, {
            name: config.name,
            title: config.title,
            bio: config.bio,
            avatar: config.avatar,
            social: config.social
          });
          document.getElementById('edit-name').value = aboutData.name || '';
          document.getElementById('edit-title').value = aboutData.title || '';
          document.getElementById('edit-bio').value = aboutData.bio || '';
          document.getElementById('edit-avatar').value = aboutData.avatar || '';
          document.getElementById('edit-github').value = aboutData.social?.github || '';
          document.getElementById('edit-linkedin').value = aboutData.social?.linkedin || '';
          document.getElementById('edit-email').value = aboutData.social?.email?.replace('mailto:', '') || '';
        } else if (sectionId === 'experience') {
          renderExperienceEdit();
        } else if (sectionId === 'education') {
          renderEducationEdit();
        } else if (sectionId === 'skills') {
          renderSkillsEdit();
        }
      }

      // ä¿å­˜å…³äºæˆ‘
      window.saveAbout = function() {
        const aboutData = {
          name: document.getElementById('edit-name').value.trim(),
          title: document.getElementById('edit-title').value.trim(),
          bio: document.getElementById('edit-bio').value.trim(),
          avatar: document.getElementById('edit-avatar').value.trim(),
          social: {
            github: document.getElementById('edit-github').value.trim(),
            linkedin: document.getElementById('edit-linkedin').value.trim(),
            email: 'mailto:' + document.getElementById('edit-email').value.trim()
          }
        };
        const isHttp = location.protocol === 'http:' || location.protocol === 'https:';
        const isLocalHost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
        // å¦‚æœé…ç½®äº† issueRepo å¹¶ä¸”æ˜¯çº¿ä¸Šè®¿é—®ï¼Œæ‰“å¼€é¢„å¡«å……çš„ GitHub Issue é¡µé¢ä»¥ä¾¿æäº¤ï¼ˆéœ€è¦ç™»å½•ï¼‰
        if (config.issueRepo && isHttp && !isLocalHost) {
          const body = `### ç¼–è¾‘ï¼šå…³äºæˆ‘ï¼ˆAboutï¼‰\n\nè¯·åœ¨æ­¤ Issue ä¸­è¡¥å……ç›¸å…³è¯´æ˜ï¼Œæäº¤åå¯ç”±ä»“åº“ç»´æŠ¤è€…åˆå¹¶åˆ°ç«™ç‚¹ã€‚\n\n**æ•°æ®ï¼ˆJSONï¼‰**:\n\n\`\`\`json\n${JSON.stringify(aboutData, null, 2)}\n\`\`\``;
          openCreateIssue(config.issueRepo, 'ç«™ç‚¹ç¼–è¾‘ï¼šAbout', body);
          cancelEditSection('about');
          alert('å°†åœ¨æ–°çª—å£æ‰“å¼€ GitHub Issue é¡µé¢ä»¥æäº¤æ›´æ”¹ï¼ˆè¯·ç™»å½•å¹¶ç¡®è®¤æäº¤ï¼‰ã€‚æœ¬åœ°æ¨¡å¼å°†ç»§ç»­ä¿å­˜åˆ° localStorageã€‚');
          return;
        }

        // æœ¬åœ°å›é€€ï¼šä¿å­˜åˆ° localStorage
        saveData(STORAGE_KEYS.about, aboutData);
        initConfig();
        cancelEditSection('about');
        alert('ä¿å­˜æˆåŠŸï¼ˆå·²å†™å…¥ localStorageï¼‰ï¼');
      };

      // æ¸²æŸ“å·¥ä½œç»å†ç¼–è¾‘è¡¨å•
      function renderExperienceEdit() {
        const container = document.getElementById('experienceItemsEdit');
        if (!container) return;
        const experienceData = loadData(STORAGE_KEYS.experience, config.experience);
        
        container.innerHTML = experienceData.map((exp, index) => `
          <div class="editable-item" data-index="${index}">
            <div class="item-actions">
              <button class="btn small danger" onclick="this.closest('.editable-item').remove()">åˆ é™¤</button>
            </div>
            <div class="edit-form-group">
              <label>èŒä½åç§°</label>
              <input type="text" class="exp-title" value="${escapeHtml(exp.title)}" placeholder="èŒä½åç§°">
            </div>
            <div class="edit-form-group">
              <label>å…¬å¸åç§°</label>
              <input type="text" class="exp-company" value="${escapeHtml(exp.company)}" placeholder="å…¬å¸åç§°">
            </div>
            <div class="edit-form-group">
              <label>å·¥ä½œæ—¶é—´</label>
              <input type="text" class="exp-date" value="${escapeHtml(exp.date)}" placeholder="ä¾‹å¦‚ï¼š2022.01 - è‡³ä»Š">
            </div>
            <div class="edit-form-group">
              <label>å·¥ä½œæè¿°ï¼ˆæ”¯æŒæ¢è¡Œå’Œé¡¹ç›®ç¬¦å· â€¢ï¼‰</label>
              <textarea class="exp-description" placeholder="å·¥ä½œæè¿°">${escapeHtml(exp.description)}</textarea>
            </div>
            <div class="edit-form-group">
              <label>å›¾ç‰‡URLï¼ˆå¯é€‰ï¼‰</label>
              <input type="text" class="exp-image" value="${escapeHtml(exp.image || '')}" placeholder="å›¾ç‰‡URL">
            </div>
            <div class="sep"></div>
          </div>
        `).join('');
      }

      // æ·»åŠ å·¥ä½œç»å†é¡¹
      window.addExperienceItem = function() {
        const container = document.getElementById('experienceItemsEdit');
        const index = container.children.length;
        const newItem = document.createElement('div');
        newItem.className = 'editable-item';
        newItem.dataset.index = index;
        newItem.innerHTML = `
          <div class="item-actions">
            <button class="btn small danger" onclick="this.closest('.editable-item').remove()">åˆ é™¤</button>
          </div>
          <div class="edit-form-group">
            <label>èŒä½åç§°</label>
            <input type="text" class="exp-title" placeholder="èŒä½åç§°">
          </div>
          <div class="edit-form-group">
            <label>å…¬å¸åç§°</label>
            <input type="text" class="exp-company" placeholder="å…¬å¸åç§°">
          </div>
          <div class="edit-form-group">
            <label>å·¥ä½œæ—¶é—´</label>
            <input type="text" class="exp-date" placeholder="ä¾‹å¦‚ï¼š2022.01 - è‡³ä»Š">
          </div>
          <div class="edit-form-group">
            <label>å·¥ä½œæè¿°ï¼ˆæ”¯æŒæ¢è¡Œå’Œé¡¹ç›®ç¬¦å· â€¢ï¼‰</label>
            <textarea class="exp-description" placeholder="å·¥ä½œæè¿°"></textarea>
          </div>
          <div class="edit-form-group">
            <label>å›¾ç‰‡URLï¼ˆå¯é€‰ï¼‰</label>
            <input type="text" class="exp-image" placeholder="å›¾ç‰‡URL">
          </div>
          <div class="sep"></div>
        `;
        container.appendChild(newItem);
      };


      // ä¿å­˜å·¥ä½œç»å†
      window.saveExperience = function() {
        const items = document.querySelectorAll('#experienceItemsEdit .editable-item');
        const experienceData = Array.from(items).map(item => ({
          title: item.querySelector('.exp-title').value.trim(),
          company: item.querySelector('.exp-company').value.trim(),
          date: item.querySelector('.exp-date').value.trim(),
          description: item.querySelector('.exp-description').value.trim(),
          image: item.querySelector('.exp-image').value.trim()
        })).filter(exp => exp.title && exp.company);
        const isHttp = location.protocol === 'http:' || location.protocol === 'https:';
        const isLocalHost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
        if (config.issueRepo && isHttp && !isLocalHost) {
          const body = `### ç¼–è¾‘ï¼šå·¥ä½œç»å†ï¼ˆExperienceï¼‰\n\nè¯·åœ¨æ­¤ Issue ä¸­æè¿°æœ¬æ¬¡ä¿®æ”¹æ„å›¾ï¼Œæäº¤åå¯ç”±ç»´æŠ¤è€…åˆå¹¶ã€‚\n\n**æ•°æ®ï¼ˆJSONï¼‰**:\n\n\`\`\`json\n${JSON.stringify(experienceData, null, 2)}\n\`\`\``;
          openCreateIssue(config.issueRepo, 'ç«™ç‚¹ç¼–è¾‘ï¼šExperience', body);
          cancelEditSection('experience');
          alert('å°†åœ¨æ–°çª—å£æ‰“å¼€ GitHub Issue é¡µé¢ä»¥æäº¤æ›´æ”¹ï¼ˆè¯·ç™»å½•å¹¶ç¡®è®¤æäº¤ï¼‰ã€‚æœ¬åœ°æ¨¡å¼å°†ç»§ç»­ä¿å­˜åˆ° localStorageã€‚');
          return;
        }

        saveData(STORAGE_KEYS.experience, experienceData);
        initConfig();
        cancelEditSection('experience');
        alert('ä¿å­˜æˆåŠŸï¼ˆå·²å†™å…¥ localStorageï¼‰ï¼');
      };

      // æ¸²æŸ“æ•™è‚²èƒŒæ™¯ç¼–è¾‘è¡¨å•
      function renderEducationEdit() {
        const container = document.getElementById('educationItemsEdit');
        if (!container) return;
        const educationData = loadData(STORAGE_KEYS.education, config.education);
        
        container.innerHTML = educationData.map((edu, index) => `
          <div class="editable-item" data-index="${index}">
            <div class="item-actions">
              <button class="btn small danger" onclick="this.closest('.editable-item').remove()">åˆ é™¤</button>
            </div>
            <div class="edit-form-group">
              <label>å­¦ä½/ä¸“ä¸š</label>
              <input type="text" class="edu-degree" value="${escapeHtml(edu.degree)}" placeholder="å­¦ä½/ä¸“ä¸š">
            </div>
            <div class="edit-form-group">
              <label>å­¦æ ¡åç§°</label>
              <input type="text" class="edu-school" value="${escapeHtml(edu.school)}" placeholder="å­¦æ ¡åç§°">
            </div>
            <div class="edit-form-group">
              <label>æ—¶é—´</label>
              <input type="text" class="edu-date" value="${escapeHtml(edu.date)}" placeholder="ä¾‹å¦‚ï¼š2016.09 - 2020.06">
            </div>
            <div class="sep"></div>
          </div>
        `).join('');
      }

      // æ·»åŠ æ•™è‚²èƒŒæ™¯é¡¹
      window.addEducationItem = function() {
        const container = document.getElementById('educationItemsEdit');
        const index = container.children.length;
        const newItem = document.createElement('div');
        newItem.className = 'editable-item';
        newItem.dataset.index = index;
        newItem.innerHTML = `
          <div class="item-actions">
            <button class="btn small danger" onclick="this.closest('.editable-item').remove()">åˆ é™¤</button>
          </div>
          <div class="edit-form-group">
            <label>å­¦ä½/ä¸“ä¸š</label>
            <input type="text" class="edu-degree" placeholder="å­¦ä½/ä¸“ä¸š">
          </div>
          <div class="edit-form-group">
            <label>å­¦æ ¡åç§°</label>
            <input type="text" class="edu-school" placeholder="å­¦æ ¡åç§°">
          </div>
          <div class="edit-form-group">
            <label>æ—¶é—´</label>
            <input type="text" class="edu-date" placeholder="ä¾‹å¦‚ï¼š2016.09 - 2020.06">
          </div>
          <div class="sep"></div>
        `;
        container.appendChild(newItem);
      };


      // ä¿å­˜æ•™è‚²èƒŒæ™¯
      window.saveEducation = function() {
        const items = document.querySelectorAll('#educationItemsEdit .editable-item');
        const educationData = Array.from(items).map(item => ({
          degree: item.querySelector('.edu-degree').value.trim(),
          school: item.querySelector('.edu-school').value.trim(),
          date: item.querySelector('.edu-date').value.trim()
        })).filter(edu => edu.degree && edu.school);
        const isHttp = location.protocol === 'http:' || location.protocol === 'https:';
        const isLocalHost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
        if (config.issueRepo && isHttp && !isLocalHost) {
          const body = `### ç¼–è¾‘ï¼šæ•™è‚²èƒŒæ™¯ï¼ˆEducationï¼‰\n\n**æ•°æ®ï¼ˆJSONï¼‰**:\n\n\`\`\`json\n${JSON.stringify(educationData, null, 2)}\n\`\`\``;
          openCreateIssue(config.issueRepo, 'ç«™ç‚¹ç¼–è¾‘ï¼šEducation', body);
          cancelEditSection('education');
          alert('å°†åœ¨æ–°çª—å£æ‰“å¼€ GitHub Issue é¡µé¢ä»¥æäº¤æ›´æ”¹ï¼ˆè¯·ç™»å½•å¹¶ç¡®è®¤æäº¤ï¼‰ã€‚æœ¬åœ°æ¨¡å¼å°†ç»§ç»­ä¿å­˜åˆ° localStorageã€‚');
          return;
        }

        saveData(STORAGE_KEYS.education, educationData);
        initConfig();
        cancelEditSection('education');
        alert('ä¿å­˜æˆåŠŸï¼ˆå·²å†™å…¥ localStorageï¼‰ï¼');
      };

      // æ¸²æŸ“æŠ€èƒ½ç¼–è¾‘è¡¨å•
      function renderSkillsEdit() {
        const container = document.getElementById('skillsItemsEdit');
        if (!container) return;
        const skillsData = loadData(STORAGE_KEYS.skills, config.skills);
        
        container.innerHTML = skillsData.map((skill, index) => `
          <div class="editable-item" data-index="${index}">
            <div class="item-actions">
              <button class="btn small danger" onclick="this.closest('.editable-item').remove()">åˆ é™¤</button>
            </div>
            <div class="edit-form-group">
              <label>æŠ€èƒ½åˆ†ç±»åç§°</label>
              <input type="text" class="skill-name" value="${escapeHtml(skill.name)}" placeholder="ä¾‹å¦‚ï¼šç¼–ç¨‹è¯­è¨€">
            </div>
            <div class="edit-form-group">
              <label>æŠ€èƒ½æ ‡ç­¾ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰</label>
              <textarea class="skill-tags" placeholder="æ¯è¡Œä¸€ä¸ªæŠ€èƒ½æ ‡ç­¾">${skill.tags.join('\n')}</textarea>
            </div>
            <div class="sep"></div>
          </div>
        `).join('');
      }

      // æ·»åŠ æŠ€èƒ½é¡¹
      window.addSkillItem = function() {
        const container = document.getElementById('skillsItemsEdit');
        const index = container.children.length;
        const newItem = document.createElement('div');
        newItem.className = 'editable-item';
        newItem.dataset.index = index;
        newItem.innerHTML = `
          <div class="item-actions">
            <button class="btn small danger" onclick="this.closest('.editable-item').remove()">åˆ é™¤</button>
          </div>
          <div class="edit-form-group">
            <label>æŠ€èƒ½åˆ†ç±»åç§°</label>
            <input type="text" class="skill-name" placeholder="ä¾‹å¦‚ï¼šç¼–ç¨‹è¯­è¨€">
          </div>
          <div class="edit-form-group">
            <label>æŠ€èƒ½æ ‡ç­¾ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰</label>
            <textarea class="skill-tags" placeholder="æ¯è¡Œä¸€ä¸ªæŠ€èƒ½æ ‡ç­¾"></textarea>
          </div>
          <div class="sep"></div>
        `;
        container.appendChild(newItem);
      };


      // ä¿å­˜æŠ€èƒ½
      window.saveSkills = function() {
        const items = document.querySelectorAll('#skillsItemsEdit .editable-item');
        const skillsData = Array.from(items).map(item => {
          const tags = item.querySelector('.skill-tags').value.trim()
            .split('\n')
            .map(tag => tag.trim())
            .filter(tag => tag);
          return {
            name: item.querySelector('.skill-name').value.trim(),
            tags: tags
          };
        }).filter(skill => skill.name && skill.tags.length > 0);
        const isHttp = location.protocol === 'http:' || location.protocol === 'https:';
        const isLocalHost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
        if (config.issueRepo && isHttp && !isLocalHost) {
          const body = `### ç¼–è¾‘ï¼šæŠ€èƒ½ï¼ˆSkillsï¼‰\n\n**æ•°æ®ï¼ˆJSONï¼‰**:\n\n\`\`\`json\n${JSON.stringify(skillsData, null, 2)}\n\`\`\``;
          openCreateIssue(config.issueRepo, 'ç«™ç‚¹ç¼–è¾‘ï¼šSkills', body);
          cancelEditSection('skills');
          alert('å°†åœ¨æ–°çª—å£æ‰“å¼€ GitHub Issue é¡µé¢ä»¥æäº¤æ›´æ”¹ï¼ˆè¯·ç™»å½•å¹¶ç¡®è®¤æäº¤ï¼‰ã€‚æœ¬åœ°æ¨¡å¼å°†ç»§ç»­ä¿å­˜åˆ° localStorageã€‚');
          return;
        }

        saveData(STORAGE_KEYS.skills, skillsData);
        initConfig();
        cancelEditSection('skills');
        alert('ä¿å­˜æˆåŠŸï¼ˆå·²å†™å…¥ localStorageï¼‰ï¼');
      };

      // åˆå§‹åŒ–æ—¶ä¸éœ€è¦æ¸²æŸ“ç¼–è¾‘è¡¨å•ï¼Œåªåœ¨è¿›å…¥ç¼–è¾‘æ¨¡å¼æ—¶æ¸²æŸ“
    })();

    // ç›¸å†ŒåŠŸèƒ½
    (function setupGallery() {
      const modal = document.getElementById('galleryModal');
      const closeBtn = document.getElementById('galleryClose');
      const prevBtn = document.getElementById('galleryPrev');
      const nextBtn = document.getElementById('galleryNext');
      const mainImage = document.getElementById('galleryMainImage');
      const thumbnails = document.getElementById('galleryThumbnails');
      const counter = document.getElementById('galleryCounter');
      const title = document.getElementById('galleryTitle');
      
      let currentIndex = 0;
      let images = config.galleryImages || [];
      
      // åˆå§‹åŒ–ç›¸å†Œ
      function initGallery() {
        if (images.length === 0) {
          images = [
            'https://raw.githubusercontent.com/jkhkjlkll/myobs/master/20251111202007625.png',
            'https://raw.githubusercontent.com/jkhkjlkll/myobs/master/20251111202007625.png',
            'https://raw.githubusercontent.com/jkhkjlkll/myobs/master/20251111202007625.png',
          ];
        }
        
        // åˆ›å»ºç¼©ç•¥å›¾
        thumbnails.innerHTML = '';
        images.forEach((img, index) => {
          const thumb = document.createElement('img');
          thumb.src = img;
          thumb.className = 'gallery-thumbnail';
          if (index === 0) thumb.classList.add('active');
          thumb.addEventListener('click', () => goToImage(index));
          thumbnails.appendChild(thumb);
        });
      }
      
      // æ‰“å¼€ç›¸å†Œ
      function openGallery() {
        if (images.length === 0) {
          initGallery();
        }
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
        currentIndex = 0;
        updateGallery();
      }
      
      // å…³é—­ç›¸å†Œ
      function closeGallery() {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }
      
      // æ›´æ–°ç›¸å†Œæ˜¾ç¤º
      function updateGallery() {
        if (images.length === 0) return;
        
        mainImage.src = images[currentIndex];
        counter.textContent = `${currentIndex + 1} / ${images.length}`;
        
        // æ›´æ–°ç¼©ç•¥å›¾æ¿€æ´»çŠ¶æ€
        const thumbs = thumbnails.querySelectorAll('.gallery-thumbnail');
        thumbs.forEach((thumb, index) => {
          if (index === currentIndex) {
            thumb.classList.add('active');
          } else {
            thumb.classList.remove('active');
          }
        });
        
        // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
        prevBtn.disabled = currentIndex === 0;
        nextBtn.disabled = currentIndex === images.length - 1;
      }
      
      // åˆ‡æ¢åˆ°æŒ‡å®šå›¾ç‰‡
      function goToImage(index) {
        if (index >= 0 && index < images.length) {
          currentIndex = index;
          updateGallery();
        }
      }
      
      // ä¸Šä¸€å¼ 
      function prevImage() {
        if (currentIndex > 0) {
          currentIndex--;
          updateGallery();
        }
      }
      
      // ä¸‹ä¸€å¼ 
      function nextImage() {
        if (currentIndex < images.length - 1) {
          currentIndex++;
          updateGallery();
        }
      }
      
      // é”®ç›˜å¯¼èˆª
      function handleKeyPress(e) {
        if (!modal.classList.contains('active')) return;
        
        if (e.key === 'Escape') {
          closeGallery();
        } else if (e.key === 'ArrowLeft') {
          prevImage();
        } else if (e.key === 'ArrowRight') {
          nextImage();
        }
      }
      
      // ç»‘å®šäº‹ä»¶
      closeBtn.addEventListener('click', closeGallery);
      prevBtn.addEventListener('click', prevImage);
      nextBtn.addEventListener('click', nextImage);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeGallery();
        }
      });
      document.addEventListener('keydown', handleKeyPress);
      
      // åˆå§‹åŒ–
      initGallery();
      
      // å¯¼å‡ºå‡½æ•°ä¾›å¤–éƒ¨è°ƒç”¨
      window.openGallery = openGallery;
    })();

    // åˆå§‹åŒ–é…ç½®
    initConfig();
  </script>
</body>
</html>